# 实验三  Web组件重用与JavaBeans

## 一、实验目的
1. 理解静态包含和动态包含的概念，掌握相关指令和动作的使用；
2. 掌握JavaBeans的含义和创建方法；
3. 重点掌握在JSP页面中使用JavaBeans的标准动作。

## 二、实验原理
通过重用Web组件可以提高应用程序开发的效率和其可维护性。在JSP中可以通过包含机制和JavaBean实现Web组件的重用。

包含分为静态包含和动态包含。静态包含通过include指令实现，动态包含通过标准动作<jsp:include>实现。

在JSP页面中使用JavaBean是最重要的组件重用技术，这主要是通过下面3个标准动作实现的：
- `<jsp:useBean>`
- `<jsp:setProperty>`
- `<jsp:getProperty>`

## 三、实验预习内容

### 1. 静态include指令何时执行？主页面和被包含的子页面是否转换为一个转换单元？ 同一个转换单元的页面之间如何共享数据？

**答：** 静态include指令在JSP页面转换为Servlet时执行，即在编译阶段执行。主页面和被包含的子页面会转换为同一个转换单元（同一个Servlet）。由于它们属于同一个转换单元，因此可以直接共享变量和数据，子页面可以直接访问主页面中定义的变量。

### 2. <jsp:include>动作指令何时执行？主页面和被包含的子页面是否转换为一个转换单元？动作包含的子页面与主页面共享同一个请求吗？在不同的转换单元中如何进行数据的传递和共享？

**答：** `<jsp:include>`动作指令在请求处理阶段执行，即在运行时执行。主页面和被包含的子页面分别转换为不同的转换单元（不同的Servlet）。动作包含的子页面与主页面共享同一个请求对象（HttpServletRequest）。在不同的转换单元中，可以通过request作用域属性、session作用域属性等方式进行数据传递和共享。

### 3. <jsp:forward>动作与<jsp:include>动作有什么相同点和不同点？与<jsp:forward>动作等价的其他两种写法如何表示？

**答：** 
**相同点：**
- 都是JSP标准动作标签
- 都可以在服务器端包含或转发到其他资源

**不同点：**
- `<jsp:include>`：包含其他资源的输出到当前页面，执行完后继续执行当前页面后续代码
- `<jsp:forward>`：将请求转发到另一个资源，转发后不会执行当前页面后续代码

**<jsp:forward>等价的其他两种写法：**
1. `request.getRequestDispatcher("目标页面").forward(request, response);`
2. `<c:redirect url="目标页面"/>` (JSTL标签)

### 4. 什么是JavaBean？

**答：** JavaBean是一种Java语言编写的可重用软件组件模型，遵循特定规范的Java类：
- 必须是一个公共类（public）
- 所有属性都是私有的（private）
- 提供公共的getter和setter方法访问属性
- 具有无参构造函数
- 可序列化（实现Serializable接口）

### 5. 访问JavaBean的三个JSP动作中<jsp:useBean>动作的常用属性有哪些？这些属性各有什么作用？

**答：** `<jsp:useBean>`动作的常用属性包括：
- `id`：指定JavaBean实例的标识符，在JSP页面中引用该Bean的变量名
- `class`：指定JavaBean的完整类名（包名+类名）
- `scope`：指定JavaBean的作用域，可选值有page、request、session、application，默认为page
- `type`：指定引用变量的类型，必须是Bean类本身或其父类
- `beanName`：指定Bean的名称，通常与class属性配合使用